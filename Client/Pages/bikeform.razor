@page "/bikeform"
@using System.Net.Http
@using System.Collections.Generic
@using System.Threading.Tasks

<div class="form-container">
    <form class="form-post">
        <div class="form-field">
            <label>Model</label>
            <input type="text" @bind-value="model" />
        </div>
        <div class="form-field">
            <label>Discount</label>
            <input type="text" @bind-value="discount" />
        </div>
        <div class="form-field">
            <label>Type</label>
            <input type="text" @bind-value="type" />
        </div>

        <div class="form-field">
            <label>Price</label>
            <input type="text" @bind-value="price" />
        </div>

        <button type="submit" @onclick="SubmitForm">Trimite</button>
    </form>
</div>

 @code {
    private string? model;
    private decimal discount;
    private string? type;
    private decimal price;

    private async Task SubmitForm()
    {
        var formData = new FormUrlEncodedContent(new[]
        {
            new KeyValuePair<string, string>("model", model),
            new KeyValuePair<string, string>("discount", discount.ToString()),
            new KeyValuePair<string, string>("type", type),
            new KeyValuePair<string, string>("price", price.ToString())
        });

        var httpClient = new HttpClient();
        var response = await httpClient.PostAsync("https://localhost:7246/api/Bike/AddBike", formData);
    }
}

